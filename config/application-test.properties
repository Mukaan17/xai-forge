# Test Configuration for XAI-Forge
# This configuration is used for all test environments

# Database Configuration - H2 in-memory for fast tests
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.H2Dialect

# JWT Configuration - Test secret (32+ characters)
app.jwt.secret=test-jwt-secret-key-for-testing-purposes-only-32-chars
app.jwt.expiration-ms=3600000

# File Storage Configuration - Test directories
app.file.upload-dir=./test-uploads

# Server Configuration
server.port=0

# CORS Configuration - Allow all for testing
app.cors.allowed-origins=*
app.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
app.cors.allowed-headers=*
app.cors.allow-credentials=false

# Async Configuration - Reduced for testing
app.async.core-pool-size=2
app.async.max-pool-size=5
app.async.queue-capacity=10
app.async.thread-name-prefix=test-async-

# ML Configuration - Reduced limits for testing
app.ml.max-training-time=30000
app.ml.max-dataset-size=1000
app.ml.cache.enabled=false
app.ml.cache.max-size=10
app.ml.cache.ttl=60000

# ML Training Parameters - Reduced for testing
app.ml.regression.learning-rate=0.1
app.ml.regression.initial-learning-rate=0.1
app.ml.regression.epochs=5
app.ml.regression.minibatch-size=1
app.ml.regression.max-training-time=30000
app.ml.classification.max-training-time=30000

# XAI Configuration
app.xai.regression-base-factor=0.2
app.xai.classification-base-factor=0.25
app.xai.enable-fallback-explanation=true
app.xai.max-features-in-explanation=5
app.xai.min-contribution-threshold=0.01

# Logging Configuration - Reduce verbosity for tests
logging.level.org.springframework.security=WARN
logging.level.org.hibernate=WARN
logging.level.com.example.xaiapp=INFO
logging.level.org.tribuo=WARN

# Test-specific configurations
spring.test.database.replace=none
spring.jpa.defer-datasource-initialization=true